/**
 * @name angular-7segments
 * @version v0.0.1
 * @author  
 * @license MIT
 */
!function(e,t){function n(e){return e&&e.$evalAsync&&e.$watch}function s(e){return e&&e.window===e}function r(e,t){var r=t;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:s(t)?r="$WINDOW":t&&document===t?r="$DOCUMENT":n(t)&&(r="$SCOPE"),r}function i(e){var n=[];return JSON.stringify(e,function(e,s){if(s=r(e,s),t.isObject(s)){if(n.indexOf(s)>=0)return"...";n.push(s)}return s})}function a(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):t.isUndefined(e)?"undefined":"string"!=typeof e?i(e):e}function l(e,t){return t=t||Error,function(){var n=2,s=arguments,r=s[0],i="["+(e?e+":":"")+r+"] ",l=s[1];return i+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),r=t+n;return r<s.length?a(s[r]):e}),new t(i)}}function o(){var e={strict:"E",scope:{segVal:"="},templateUrl:"digit.html",link:function(e,t,n){function s(t,n){var s=1;t=t||0;for(var a=void 0==n?t:t^n,l=0;8>l;s<<=1,l++)s&a&&(e.segClass[l]=s&t?r:i)}var r="seven-seg-on",i="";e.segClass=[],e.$watch("segVal",s),s(e.segVal)}};return e}function g(e){var t={strict:"E",require:"^ngModel",scope:{segLength:"=",segArr:"=ngModel"},templateUrl:"group.html",link:function(t,n,s){var r=t.segLength||t.segArr.length;t.digits=e.convertArrToSeg(t.segArr,r),t.$watchCollection("segArr",function(n){t.digits=e.convertArrToSeg(n,r)})}};return t}function u(e){this.arrToSegGroup=function(n,s){if(!t.isArray(n)&&!t.isString(n))throw new d("badarrtype","The type '{0}' is not supported.",typeof n);for(var r=new Array(s),i=0,a=0,l=n.length;l>a&&s>i;i++,a++){var o=n[a];if("."!==o&&o!==e["."]){if(t.isString(o))r[i]=e[o]||0;else{if(!t.isNumber(o))throw new d("baditemtype","The type '{0}' is not supported.",typeof o);r[i]=o}("."===n[a+1]||n[a+1]==e["."])&&(r[i]+=e["."],a++)}else r[i]=e["."]}return r.splice(i),new Array(s-i).concat(r)},this.arrToSegNum=function(e){if(!t.isArray(e)&&!t.isString(e))throw new d("badarrtype","The type '{0}' is not supported.",typeof e);for(var n=1,s=0,r=0,i=8;i>r;n<<=1,r++)e[r]&&"0"!=e[r]&&(s+=n);return s}}l("$segment"),l("segGroup");g.$inject=["segUtil"];var c={1:6,2:91,3:79,4:102,5:109,6:125,7:39,8:127,9:111,0:63,"-":64,".":128," ":0},d=l("segutil");u.$inject=["segMap"];t.module("wo.7segments",[]).directive("segDigit",o).directive("segDigitGroup",g).value("segMap",c).service("segUtil",u);t.module("wo.7segments").run(["$templateCache",function(e){e.put("digit.html",'<style>.seven-seg-digit{\n        fill: #320000; \n        overflow: hidden; \n        stroke-width: 0; \n        height: 100%; \n        width: 100%; \n        background-color: Black;\n    }\n    \n    .seven-seg-on{\n        fill: red;\n    }</style> <svg class="seven-seg-digit" viewBox="0 0 57 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" focusable="false"> <defs> <polyline id="h-part" points="11 0, 37 0, 42 5, 37 10, 11 10, 6 5"></polyline> <polyline id="v-part" points="0 11, 5 6, 10 11, 10 34, 5 39, 0 34"></polyline> </defs> <g class="seven-seg-group"> <use xlink:href="#h-part" x="0" y="0" data-ng-class="segClass[0]"></use> <use xlink:href="#v-part" x="-48" y="0" transform="scale(-1,1)" data-ng-class="segClass[1]"></use> <use xlink:href="#v-part" x="-48" y="-80" transform="scale(-1,-1)" data-ng-class="segClass[2]"></use> <use xlink:href="#h-part" x="0" y="70" data-ng-class="segClass[3]"></use> <use xlink:href="#v-part" x="0" y="-80" transform="scale(1,-1)" data-ng-class="segClass[4]"></use> <use xlink:href="#v-part" x="0" y="0" data-ng-class="segClass[5]"></use> <use xlink:href="#h-part" x="0" y="35" data-ng-class="segClass[6]"></use> </g> <circle cx="52" cy="75" r="5" data-ng-class="segClass[7]"></circle> </svg>'),e.put("group.html",'<div style="display:inline-block; width:100px; height:200px" data-ng-repeat="dig in digits track by $index" seg-digit seg-val="dig"> </div>')}])}(window,window.angular);