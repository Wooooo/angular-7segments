/**
 * @name angular-7segments
 * @version v0.0.1
 * @author  
 * @license MIT
 */
!function(e,s){function n(e){return e&&e.$evalAsync&&e.$watch}function t(e){return e&&e.window===e}function r(e,s){var r=s;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:t(s)?r="$WINDOW":s&&document===s?r="$DOCUMENT":n(s)&&(r="$SCOPE"),r}function i(e){var n=[];return JSON.stringify(e,function(e,t){if(t=r(e,t),s.isObject(t)){if(n.indexOf(t)>=0)return"...";n.push(t)}return t})}function a(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):s.isUndefined(e)?"undefined":"string"!=typeof e?i(e):e}function l(e,s){return s=s||Error,function(){var n=2,t=arguments,r=t[0],i="["+(e?e+":":"")+r+"] ",l=t[1];return i+=l.replace(/\{\d+\}/g,function(e){var s=+e.slice(1,-1),r=s+n;return r<t.length?a(t[r]):e}),new s(i)}}function o(e){var s={strict:"E",require:"^ngModel",scope:{segVal:"=ngModel"},templateUrl:"digit.html",link:function(s,n,t,r){s.segClass=[],s.className=[];var i=e.segNumToArr.bind(null,s.segClass);s.$watch("segVal",i),i(s.segVal)}};return s}function g(e){var s={strict:"E",require:"^ngModel",scope:{segLength:"=",segArr:"=ngModel"},templateUrl:"group.html",link:function(s){var n=s.segLength||s.segArr.length;s.digits=e.arrToSegGroup(s.segArr,n),s.$watchCollection("segArr",function(t){s.digits=e.arrToSegGroup(t,n)})}};return s}function u(e){this.arrToSegGroup=function(n,t){if(!s.isArray(n)&&!s.isString(n))throw new d("badarrtype","The type '{0}' is not supported.",typeof n);for(var r=[],i=0,a=0,l=n.length;l>a&&t>i;i++,a++){var o=n[a];if("."!==o&&o!==e["."]){if(s.isString(o))r[i]=e[o]||0;else{if(!s.isNumber(o))throw new d("baditemtype","The type '{0}' is not supported.",typeof o);r[i]=o}("."===n[a+1]||n[a+1]==e["."])&&(r[i]+=e["."],a++)}else r[i]=e["."]}return new Array(t-i).concat(r)},this.arrToSegNum=function(e){if(!s.isArray(e)&&!s.isString(e))throw new d("badarrtype","The type '{0}' is not supported.",typeof e);for(var n=1,t=0,r=0,i=8;i>r;n<<=1,r++)e[r]&&"0"!=e[r]&&(t+=n);return t},this.segNumToArr=function(e,s,n){var t=1;s=s||0;for(var r=void 0==n?s:s^n,i=0;8>i;t<<=1,i++)t&r&&(e[i]=!!(t&s))}}o.$inject=["segUtil"];l("segGroup");g.$inject=["segUtil"];var c={1:6,2:91,3:79,4:102,5:109,6:125,7:39,8:127,9:111,0:63,"-":64,".":128," ":0,S:109,E:121,G:61},d=l("segutil");u.$inject=["segMap"];s.module("wo.7segments",[]).directive("segDigit",o).directive("segDigitGroup",g).value("segMap",c).service("segUtil",u);s.module("wo.7segments").run(["$templateCache",function(e){e.put("digit.html",'<style>.seven-seg-digit{\n        fill: #320000; \n        overflow: hidden; \n        stroke-width: 0; \n        height: 100%; \n        width: 100%; \n        background-color: Black;\n    }\n    \n    .seven-seg-on{\n        fill: red;\n    }</style> <svg class="seven-seg-digit" viewBox="0 0 57 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" focusable="false"> <defs> <polyline id="h-part" points="11 0, 37 0, 42 5, 37 10, 11 10, 6 5"></polyline> <polyline id="v-part" points="0 11, 5 6, 10 11, 10 34, 5 39, 0 34"></polyline> </defs> <g class="seven-seg-group"> <use xlink:href="#h-part" x="0" y="0" data-ng-class="segClass[0] && (className[0] || \'seven-seg-on\')"></use> <use xlink:href="#v-part" x="-48" y="0" transform="scale(-1,1)" data-ng-class="segClass[1] && (className[1] || \'seven-seg-on\')"></use> <use xlink:href="#v-part" x="-48" y="-80" transform="scale(-1,-1)" data-ng-class="segClass[2] && (className[2] || \'seven-seg-on\')"></use> <use xlink:href="#h-part" x="0" y="70" data-ng-class="segClass[3] && (className[3] || \'seven-seg-on\')"></use> <use xlink:href="#v-part" x="0" y="-80" transform="scale(1,-1)" data-ng-class="segClass[4] && (className[4] || \'seven-seg-on\')"></use> <use xlink:href="#v-part" x="0" y="0" data-ng-class="segClass[5] && (className[5] || \'seven-seg-on\')"></use> <use xlink:href="#h-part" x="0" y="35" data-ng-class="segClass[6] && (className[6] || \'seven-seg-on\')"></use> <circle cx="52" cy="75" r="5" data-ng-class="segClass[7] && (className[7] || \'seven-seg-on\')"></circle> </g> </svg>'),e.put("group.html",'<div style="display:inline-block; width:100px; height:200px" data-ng-repeat="dig in digits track by $index" seg-digit data-ng-model="dig"> </div>')}])}(window,window.angular);