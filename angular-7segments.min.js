/**
 * @name angular-7segments
 * @version v0.0.1
 * @author  
 * @license MIT
 */
!function(e,n){function s(e){return e&&e.$evalAsync&&e.$watch}function t(e){return e&&e.window===e}function r(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:t(n)?r="$WINDOW":n&&document===n?r="$DOCUMENT":s(n)&&(r="$SCOPE"),r}function i(e){var s=[];return JSON.stringify(e,function(e,t){if(t=r(e,t),n.isObject(t)){if(s.indexOf(t)>=0)return"...";s.push(t)}return t})}function a(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):n.isUndefined(e)?"undefined":"string"!=typeof e?i(e):e}function l(e,n){return n=n||Error,function(){var s=2,t=arguments,r=t[0],i="["+(e?e+":":"")+r+"] ",l=t[1];return i+=l.replace(/\{\d+\}/g,function(e){var n=+e.slice(1,-1),r=n+s;return r<t.length?a(t[r]):e}),new n(i)}}function g(){var e={strict:"E",scope:{segVal:"="},templateUrl:"digit.html",link:function(e,n,s){function t(n,s){var t=1;n=n||0;for(var a=void 0==s?n:n^s,l=0;8>l;t<<=1,l++)t&a&&(e.segClass[l]=t&n?r:i)}var r="seven-seg-on",i="";e.segClass=[],e.$watch("segVal",t),t(e.segVal)}};return e}function o(e){var n={strict:"E",require:"^ngModel",scope:{segLength:"=",segArr:"=ngModel"},templateUrl:"group.html",link:function(n,s,t){var r=n.segLength||n.segArr.length;n.digits=e.convertArrToSeg(n.segArr,r),n.$watchCollection("segArr",function(s){n.digits=e.convertArrToSeg(s,r)})}};return n}function c(e){this.convertArrToSeg=function(s,t){if(!n.isArray(s)&&!n.isString(s))throw new d("badarrtype","The type is not supported.");for(var r=new Array(t),i=0,a=0,l=s.length;l>a&&t>i;i++,a++){var g=s[a];if("."!==g&&g!==e["."]){if(n.isString(g))r[i]=e[g]||0;else{if(!n.isNumber(g))throw new d("baditemtype","The type is not supported.");r[i]=g}("."===s[a+1]||s[a+1]==e["."])&&(r[i]+=e["."],a++)}else r[i]=e["."]}return r.splice(i),new Array(t-i).concat(r)}}l("$segment"),l("segGroup");o.$inject=["segUtil"];var u={1:6,2:91,3:79,4:102,5:109,6:125,7:39,8:127,9:111,0:63,"-":64,".":128," ":0},d=l("segutil");c.$inject=["segMap"];n.module("wo.7segments",[]).directive("segDigit",g).directive("segDigitGroup",o).constant("segMap",u).service("segUtil",c);n.module("wo.7segments").run(["$templateCache",function(e){e.put("digit.html",'<style>.seven-seg-digit{\n        fill: #320000; \n        overflow: hidden; \n        stroke-width: 0; \n        height: 100%; \n        width: 100%; \n        background-color: Black;\n    }\n    \n    .seven-seg-on{\n        fill: red;\n    }</style> <svg class="seven-seg-digit" viewBox="0 0 57 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" focusable="false"> <defs> <polyline id="h-part" points="11 0, 37 0, 42 5, 37 10, 11 10, 6 5"></polyline> <polyline id="v-part" points="0 11, 5 6, 10 11, 10 34, 5 39, 0 34"></polyline> </defs> <g class="seven-seg-group"> <use xlink:href="#h-part" x="0" y="0" data-ng-class="segClass[0]"></use> <use xlink:href="#v-part" x="-48" y="0" transform="scale(-1,1)" data-ng-class="segClass[1]"></use> <use xlink:href="#v-part" x="-48" y="-80" transform="scale(-1,-1)" data-ng-class="segClass[2]"></use> <use xlink:href="#h-part" x="0" y="70" data-ng-class="segClass[3]"></use> <use xlink:href="#v-part" x="0" y="-80" transform="scale(1,-1)" data-ng-class="segClass[4]"></use> <use xlink:href="#v-part" x="0" y="0" data-ng-class="segClass[5]"></use> <use xlink:href="#h-part" x="0" y="35" data-ng-class="segClass[6]"></use> </g> <circle cx="52" cy="75" r="5" data-ng-class="segClass[7]"></circle> </svg>'),e.put("group.html",'<div style="display:inline-block; width:100px; height:200px" data-ng-repeat="dig in digits track by $index" seg-digit seg-val="dig"> </div>')}])}(window,window.angular);